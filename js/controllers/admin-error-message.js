angular.module('myApp').config([ '$routeProvider', function($routeProvider) {
	$routeProvider.when("/admin-error-message", {templateUrl: _.toHttpGetUrl("content/admin/error-message/admin-error-message.html"), controller: ErrorMessageCtrl });
    $routeProvider.when("/admin-error-message/:id", {templateUrl: _.toHttpGetUrl("content/admin/error-message/admin-error-message-detail.html"), controller: ErrorMessageDetailCtrl });
} ]);

function ErrorMessageCtrl($rootScope, $scope, $http, $compile, $timeout, $filter, $location) {
	
	if (! $rootScope.paging) {
		$rootScope.paging = APP.DEFAULT_PAGING;
	}
	if (!$rootScope.criteria) {
		$rootScope.criteria = {};
	}
	
	$scope.selectPage = function(page) {
		$rootScope.paging.pageNumber = page;
		$scope.searchErrorMessage();
	};
	
	$scope.clearCriteria = function() {
		$rootScope.criteria = {};
	};
	
	$scope.goToPath = function(id){
		$location.path ('/admin-error-message/'+id);
	};

	$scope.search = function(){
		angular.extend($rootScope.criteria, $rootScope.paging);
		
		$scope.errorMessageLists = [{"errCode":"ERR-DUPLICATE-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"มีข้อมูลผู้ใช้นี้อยู่ในระบบแล้ว","errNameEn":"Duplicate user in the server.","modifiedBy":"228230","modifiedDate":1387362509000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-FOREIGN-KEY","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ไม่สามารถทำรายการได้ เพราะข้อมูลนี้ถูกใช้ที่ส่วนอื่นแล้ว","errNameEn":"This data was used by another object.","modifiedBy":"228230","modifiedDate":1387362525000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-LDAP-19","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"รหัสผ่านไม่ปลอดภัย","errNameEn":"Password is not secure.","modifiedBy":"228230","modifiedDate":1387364087000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-LDAP-49","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"รหัสผ่านไม่ถูกต้อง","errNameEn":"Incorrect password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-LDAP-53","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ระบบ LDAP ไม่สามารถทำรายการได้ เนื่องจากติดข้อกำหนดของระบบ","errNameEn":"LDAP server cannot process the request because of server-defined restrictions.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-NOT-PERMISSION","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"คุณไม่มีสิทธิ์","errNameEn":"You don't have permission.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-SESSION-TIMEOUT","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"Session Timeout","errNameEn":"Session Timeout.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-UNIQUE","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"มีข้อมูลนี้อยู่ในระบบแล้ว","errNameEn":"Existing data in the server.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-USER-TERMINATE","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"บัญชีผู้ใช้นี้ลาออกไปแล้ว","errNameEn":"User is terminate.","modifiedBy":"000010","modifiedDate":1388638196000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"นายวิชาญ รัตนิพนธ์","modifiedByNameEn":"นางวรรณี จงจำเริญ"},{"errCode":"ERR-VALUE-TOO-LONG","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ข้อมูลมีค่ามากเกินไป","errNameEn":"Data value too long.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-VERSION","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ข้อมูลนี้ถูกแก้ไขหรือลบจากคนอื่น กรุณาอัพเดตข้อมูลและลองใหม่อีกครั้ง","errNameEn":"This data was updated or deleted by another transaction. Please reload the data.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-YEAR-PERIOD","createdBy":"228230","createdDate":null,"errDesc":null,"errNameLc":"ข้อมูล Year หรือ Period Type ไม่ถูกต้อง","errNameEn":"Year or Period Type is invalid.","modifiedBy":"EX0099","modifiedDate":1389002367000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.ศรีลัดดา เย็นประเสริฐ","modifiedByNameEn":"นางลัดดาวัลย์ พันธ์เครีอศรี"},{"errCode":"LDAP-ACCOUNT-LOCK","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"บัญชีถูกล็อก","errNameEn":"Account is locked.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LDAP-COMFIRM-PWD","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"กรุณาเปลี่ยนรหัสผ่านใหม่","errNameEn":"Please change your password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LDAP-ERR-PASS","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"รหัสผ่านไม่ถูกต้อง","errNameEn":"Incorrect password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LDAP-NO-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ไม่พบผู้ใช้งานในระบบ LDAP","errNameEn":"User not found in LDAP.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LDAP-WARN-GRACELOGIN","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"คุณสามารถ login ได้อีก ? ครั้ง กรุณาเปลี่ยนรหัสผ่าน","errNameEn":"Remaining login ? times. Please change your password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LOGIN-REQUIRE-BOTH","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"กรุณาระบุรหัสผู้ใช้งานและรหัสผ่าน","errNameEn":"Require Username and Password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LOGIN-REQUIRE-PWD","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"กรุณาระบุรหัสผ่าน","errNameEn":"Require Password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LOGIN-REQUIRE-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"กรุณาระบุรหัสผู้ใช้งาน","errNameEn":"Require Username.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"SYS-NOT-FOUND-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ไม่พบรหัสผู้ใช้ในระบบ","errNameEn":"User not found in system.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"}];
		
		$rootScope.paging.totalItems = $scope.errorMessageLists.length;
		$rootScope.paging.showing = _.getShowing($rootScope.paging.pageNumber, $rootScope.paging.limit, $scope.errorMessageLists.length);
		
	};
	
	$scope.search();
		
};

//################## Edit ErrorMessage #####################################
function ErrorMessageDetailCtrl($rootScope, $scope, $http, $compile, $timeout, $filter, $location,$routeParams) {
	
	$timeout(function() {
		
		$scope.isSubmit = false;//Submit flag
		
		//Call back-end by storeId
		//$http.get(_.toHttpGetUrl('rest/errormsg/getErrorMessage/'+$routeParams.id)).success(function(data) {
			$scope.errormsg = {"errCode":"ERR-DUPLICATE-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"มีข้อมูลผู้ใช้นี้อยู่ในระบบแล้ว","errNameEn":"Duplicate user in the server.","modifiedBy":"228230","modifiedDate":1387362509000,"createdByNameLc":"นายบรรชา เลิศอมร","createdByNameEn":"นายบรรชา เลิศอมร","modifiedByNameLc":"à¸™.à¸ª.à¹€à¸žà¹‡à¸�à¸žà¸£ à¸žà¸±à¸’à¸™à¸§à¸´à¸Šà¸±à¸¢à¸�à¸¸à¸¥","modifiedByNameEn":"นายบรรชา เลิศอมร"};
		//});
			$scope.errorMessageLists = [{"errCode":"ERR-DUPLICATE-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"มีข้อมูลผู้ใช้นี้อยู่ในระบบแล้ว","errNameEn":"Duplicate user in the server.","modifiedBy":"228230","modifiedDate":1387362509000,"createdByNameLc":"นายบรรชา เลิศอมร","createdByNameEn":"นายบรรชา เลิศอมร","modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-FOREIGN-KEY","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ไม่สามารถทำรายการได้ เพราะข้อมูลนี้ถูกใช้ที่ส่วนอื่นแล้ว","errNameEn":"This data was used by another object.","modifiedBy":"228230","modifiedDate":1387362525000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-LDAP-19","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"รหัสผ่านไม่ปลอดภัย","errNameEn":"Password is not secure.","modifiedBy":"228230","modifiedDate":1387364087000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-LDAP-49","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"รหัสผ่านไม่ถูกต้อง","errNameEn":"Incorrect password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-LDAP-53","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ระบบ LDAP ไม่สามารถทำรายการได้ เนื่องจากติดข้อกำหนดของระบบ","errNameEn":"LDAP server cannot process the request because of server-defined restrictions.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-NOT-PERMISSION","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"คุณไม่มีสิทธิ์","errNameEn":"You don't have permission.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-SESSION-TIMEOUT","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"Session Timeout","errNameEn":"Session Timeout.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-UNIQUE","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"มีข้อมูลนี้อยู่ในระบบแล้ว","errNameEn":"Existing data in the server.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-USER-TERMINATE","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"บัญชีผู้ใช้นี้ลาออกไปแล้ว","errNameEn":"User is terminate.","modifiedBy":"000010","modifiedDate":1388638196000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"นายวิชาญ รัตนิพนธ์","modifiedByNameEn":"นางวรรณี จงจำเริญ"},{"errCode":"ERR-VALUE-TOO-LONG","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ข้อมูลมีค่ามากเกินไป","errNameEn":"Data value too long.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-VERSION","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ข้อมูลนี้ถูกแก้ไขหรือลบจากคนอื่น กรุณาอัพเดตข้อมูลและลองใหม่อีกครั้ง","errNameEn":"This data was updated or deleted by another transaction. Please reload the data.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"ERR-YEAR-PERIOD","createdBy":"228230","createdDate":null,"errDesc":null,"errNameLc":"ข้อมูล Year หรือ Period Type ไม่ถูกต้อง","errNameEn":"Year or Period Type is invalid.","modifiedBy":"EX0099","modifiedDate":1389002367000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.ศรีลัดดา เย็นประเสริฐ","modifiedByNameEn":"นางลัดดาวัลย์ พันธ์เครีอศรี"},{"errCode":"LDAP-ACCOUNT-LOCK","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"บัญชีถูกล็อก","errNameEn":"Account is locked.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LDAP-COMFIRM-PWD","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"กรุณาเปลี่ยนรหัสผ่านใหม่","errNameEn":"Please change your password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LDAP-ERR-PASS","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"รหัสผ่านไม่ถูกต้อง","errNameEn":"Incorrect password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LDAP-NO-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ไม่พบผู้ใช้งานในระบบ LDAP","errNameEn":"User not found in LDAP.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LDAP-WARN-GRACELOGIN","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"คุณสามารถ login ได้อีก ? ครั้ง กรุณาเปลี่ยนรหัสผ่าน","errNameEn":"Remaining login ? times. Please change your password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LOGIN-REQUIRE-BOTH","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"กรุณาระบุรหัสผู้ใช้งานและรหัสผ่าน","errNameEn":"Require Username and Password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LOGIN-REQUIRE-PWD","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"กรุณาระบุรหัสผ่าน","errNameEn":"Require Password.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"LOGIN-REQUIRE-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"กรุณาระบุรหัสผู้ใช้งาน","errNameEn":"Require Username.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"},{"errCode":"SYS-NOT-FOUND-USER","createdBy":"228230","createdDate":1384337145000,"errDesc":null,"errNameLc":"ไม่พบรหัสผู้ใช้ในระบบ","errNameEn":"User not found in system.","modifiedBy":"228230","modifiedDate":1384337145000,"createdByNameLc":null,"createdByNameEn":null,"modifiedByNameLc":"น.ส.เพ็ญพร พัฒนวิชัยกุล","modifiedByNameEn":"นายบรรชา เลิศอมร"}];
			$scope.errorMsgList = _.findWhere($scope.errorMessageLists, {'errCode': $routeParams.id +''});
			$scope.errorMsgList.createdDate = _.toDateTimeStr($scope.errorMsgList.createdDate);
			$scope.errorMsgList.modifiedDate = _.toDateTimeStr($scope.errorMsgList.modifiedDate);

		//Update ErrorMsg
		$scope.updateErrorMsg  = function() {
			$scope.isSubmit = true;
			//validate form
			if ($scope.editForm.$invalid) {
				$scope.app.addAlert('gritter-error', 'Incorrect data', 4000);
				return;
			}
			
			//Call back-end
			_.compactObject($scope.errormsg);
			var url = "rest/errormsg/updateErrorMsg";
			//alert();
			$scope.errormsg.modifiedBy = $scope.app.user.empCode; 
			$http.post(url, $scope.errormsg).success(function(data) {
				$scope.app.addAlert('gritter-success', 'Update Success', 4000);
				$scope.back();
			});
		};
			
		$scope.back = function() {
			$location.path('/admin-error-message');
		};
	
	}, 0);	
};